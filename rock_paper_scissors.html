<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>rock_paper_scissors</title>
</head>
<body>
  <script>

    console.log("My Rock, Paper, Scissors Game version-1")
    
    //This block generates the computer's selection
    let randomNumber;

    function computerPlay(randomNumber) {
      randomNumber = Math.floor(Math.random()*300);
      
      if(randomNumber <= 100) {
        return "rock";
      } else if(randomNumber > 200) {
        return "scissors";
      } else {
        return "paper";
      }
    }
    

    const winner = "You Win!";
    const loser = "You Lose!";
    const rockBeats = "Rock beats Scissors";
    const scissorsCuts = "Scissors cuts Paper";
    const paperWraps = "Paper wraps Rock";
    let playerSelection;
    let computerSelection;
    let comparison;
    
    
    //This function compares player's and computer's selections
    function playRound(playerSelection = prompt("Enter your choice of 'rock', 'paper' or 'scissors' here!"), computerSelection) {
            
      playerSelection = playerSelection.toLowerCase();
      computerSelection = computerPlay(randomNumber);
      console.log("Player's choice " + `"`+playerSelection+`"` +  " ||||| " + "Computer's choice " + `"`+computerSelection+`"`);

      //Switch block detects invalid selection from a player
      switch (playerSelection) {
        case `rock`:
        case `paper`:
        case `scissors`:
           comparison = selectionComparison(playerSelection, computerSelection);
            break
        default:
            comparison = "SELECTION IS INVALID!!!"
      }
      
        function selectionComparison(playerSelection, computerSelection) {
            
            if(playerSelection === computerSelection) {
              return "Oh! It's a tie!";
            } else if(playerSelection == "rock" && computerSelection == "scissors") {
               return `${winner} ${rockBeats}`;
            } else if(playerSelection == "scissors" && computerSelection == "paper") {
              return `${winner} ${scissorsCuts}`;
            } else if(playerSelection == "paper" && computerSelection == "rock") {
              return `${winner} ${paperWraps}`;
            } else if(playerSelection == "scissors" && computerSelection == "rock") {
              return `${loser} ${rockBeats}`;
            } else if(playerSelection == "paper" && computerSelection == "scissors") {
              return `${loser} ${scissorsCuts}`;
            } else {
              return `${loser} ${paperWraps}`;
            }

        }
    }

    //Allows the play of multiple rounds in a single game
    let numOfRounds;
    let round;

    function game(numOfRounds = prompt("Enter no. of rounds for game --", 5)) {
  

      let winByPlayer = 0
      let winByComputer = 0
      let drawRounds = 0
      let invalidRounds = 0
      for (let i = 0; i < numOfRounds; i++) {
       
    round = playRound(playerSelection, computerSelection)
      
      switch (comparison) {
        case `${loser} ${rockBeats}`:
        case `${loser} ${scissorsCuts}`:
        case `${loser} ${paperWraps}`:
          winByComputer += 1;
          break;
        case `${winner} ${rockBeats}`:
        case `${winner} ${scissorsCuts}`:
        case `${winner} ${paperWraps}`:
          winByPlayer += 1;
          break;
        case `Oh! It's a tie!`:
          drawRounds += 1;
          break;
        default:
          invalidRounds += 1;
      }
      //Result Display Boards
      
      console.log((i + 1) + " of " + numOfRounds + " is the number of rounds played in this game");
      console.log(winByPlayer + "  = Player's wins")
      console.log(winByComputer + " = Computer's wins")
      console.log("          " + drawRounds + " Draw rounds" + "            ")
      console.log(invalidRounds + " number of invalid rounds")
    }
    console.log("|||||||||||||| *Game Result* ||||||||||||||")  
    console.log("Player  = " + winByPlayer + " Computer = " + winByComputer + " Draw rounds = " + drawRounds + " Invalid rounds = " +invalidRounds)          
  
}
    //Causes a popup window for 'no of rounds' entry
    console.log(game())


  </script>
</body>
</html

